<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Documents | LawFirm CMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://unpkg.com/lucide@latest"></script>

<style>
body{background:#020617;color:#e5e7eb;font-family:"Segoe UI",system-ui;margin:0;display:flex;min-height:100vh}

/* Sidebar */
.sidebar{width:260px;background:linear-gradient(180deg,#020617,#0f172a);border-right:1px solid #1e293b;padding:20px}
.brand{display:flex;align-items:center;gap:12px;margin-bottom:30px}
.brand svg{stroke:#facc15}
.nav a{display:flex;gap:12px;padding:12px;border-radius:8px;color:#cbd5f5;text-decoration:none;font-size:14px;margin-bottom:6px}
.nav a.active,.nav a:hover{background:#1e293b;color:#facc15}

/* Main */
.main{flex:1;display:flex;flex-direction:column}
.topbar{height:64px;border-bottom:1px solid #1e293b;display:flex;align-items:center;justify-content:space-between;padding:0 24px}
.content{padding:24px}

/* Buttons */
.btn{background:#2563eb;color:#fff;border:none;padding:8px 14px;border-radius:8px;font-size:13px;cursor:pointer}
.btn:hover{background:#1e40af}

/* Filters */
.filters{display:grid;grid-template-columns:2fr 1fr 1fr 1fr auto;gap:12px;margin-bottom:20px}
.filters input,.filters select{background:#020617;border:1px solid #1e293b;color:#e5e7eb;padding:10px;border-radius:8px;font-size:13px}

/* Table */
table{width:100%;border-collapse:collapse;background:#020617;border:1px solid #1e293b;border-radius:12px;overflow:hidden}
th,td{padding:14px;font-size:13px;border-bottom:1px solid #1e293b;text-align:left}
th{color:#94a3b8;font-weight:600}
tr:hover{background:#0f172a}
.doc-link{color:#facc15;text-decoration:none}
.tag{background:#1e293b;color:#cbd5f5;padding:4px 10px;border-radius:12px;font-size:11px}

/* Actions */
.action-btn{background:#1e293b;color:#facc15;border:none;padding:4px 8px;border-radius:6px;font-size:12px;cursor:pointer}

/* FAB */
.fab{position:fixed;bottom:24px;right:24px;width:56px;height:56px;background:#2563eb;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;box-shadow:0 8px 20px rgba(37,99,235,.4)}
.fab-menu{position:fixed;bottom:90px;right:24px;background:#fff;border-radius:10px;display:none;overflow:hidden}
.fab-menu a{display:block;padding:12px 16px;color:#1f2937;text-decoration:none}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;z-index:999}
.modal-box{background:#020617;border:1px solid #1e293b;border-radius:14px;width:420px;padding:20px}
.modal-box input,.modal-box select{width:100%;margin-bottom:12px;padding:10px;background:#020617;border:1px solid #1e293b;color:#fff;border-radius:8px}
.modal-actions{display:flex;gap:10px}
.modal-actions button{flex:1}

/* Preview */
.preview-box iframe,.preview-box img{width:100%;height:400px;border:none;border-radius:8px}
</style>
</head>

<body>

<!-- SIDEBAR -->
<aside class="sidebar">
<div class="brand"><i data-lucide="scale"></i><h2>LawFirm CMS</h2></div>
<nav class="nav">
<a href="1dashboard.html"><i data-lucide="layout-dashboard"></i> Dashboard</a>
<a href="1.cases.html"><i data-lucide="briefcase"></i> Cases</a>
<a class="active"><i data-lucide="file-text"></i> Documents</a>
</nav>
</aside>

<div class="main">

<header class="topbar">
<h3>Documents</h3>
<button class="btn" onclick="openForm()">+ New Document</button>
</header>

<main class="content">

<div class="filters">
<input placeholder="Search document..." />
<select><option>All Cases</option></select>
<select><option>All Types</option></select>
<select><option>Uploaded By</option></select>
<button class="btn">Filter</button>
</div>

<table>
<thead>
<tr>
<th>Document Name</th><th>Case</th><th>Type</th><th>Uploaded By</th><th>Date</th><th>Actions</th>
</tr>
</thead>
<tbody id="docTable"></tbody>
</table>

</main>
</div>

<!-- ADD / EDIT MODAL -->
<div class="modal" id="docModal">
<div class="modal-box">
<h3 id="modalTitle">New Document</h3>
<input id="docName" placeholder="Document Name">
<input id="docCase" placeholder="Case Name">
<select id="docType"><option>Order</option><option>Petition</option><option>Evidence</option></select>
<input id="docBy" placeholder="Uploaded By">
<input id="docFile" type="file">
<div class="modal-actions">
<button class="btn" onclick="saveDoc()">Save</button>
<button class="btn" style="background:#1e293b" onclick="closeForm()">Cancel</button>
</div>
</div>
</div>

<!-- PREVIEW MODAL -->
<div class="modal" id="previewModal">
<div class="modal-box preview-box">
<h3>Document Preview</h3>
<div id="previewArea"></div>
<button class="btn" onclick="closePreview()">Close</button>
</div>
</div>
<script>
lucide.createIcons();

let editIndex=null;
const docs=[
{name:"HighCourt_Order_10Jan.pdf",case:"State vs Rakesh Kumar",type:"Order",by:"Admin",date:"10 Jan 2026",file:null},
{name:"Petition_Draft_v2.pdf",case:"ABC Corp vs XYZ Ltd",type:"Petition",by:"Associate",date:"08 Jan 2026",file:null}
];

function render(){
docTable.innerHTML="";
docs.forEach((d,i)=>{
docTable.innerHTML+=`
<tr>
<td><a class="doc-link">${d.name}</a></td>
<td>${d.case}</td>
<td><span class="tag">${d.type}</span></td>
<td>${d.by}</td>
<td>${d.date}</td>
<td>
<button class="action-btn" onclick="editDoc(${i})">Edit</button>
<button class="action-btn" onclick="previewDoc(${i})">Preview</button>
</td>
</tr>`;
});
}
render();

function openForm(){
editIndex=null;
modalTitle.innerText="New Document";
docModal.style.display="flex";
docName.value=docCase.value=docBy.value="";
}
function closeForm(){docModal.style.display="none"}

function saveDoc(){
const file=docFile.files[0];
const data={
name:docName.value,
case:docCase.value,
type:docType.value,
by:docBy.value,
date:new Date().toDateString(),
file:file?URL.createObjectURL(file):null
};
editIndex!==null?docs[editIndex]=data:docs.push(data);
closeForm();render();
}

function editDoc(i){
editIndex=i;
const d=docs[i];
modalTitle.innerText="Edit Document";
docName.value=d.name;
docCase.value=d.case;
docType.value=d.type;
docBy.value=d.by;
docModal.style.display="flex";
}

function previewDoc(i){
const d=docs[i];
previewArea.innerHTML=d.file?
(d.file.endsWith(".pdf")?`<iframe src="${d.file}"></iframe>`:`<img src="${d.file}">`)
:"<p>No preview available</p>";
previewModal.style.display="flex";
}
function closePreview(){previewModal.style.display="none"}

</script>

</body>
</html>
